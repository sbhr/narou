{% extends "base.html" %}

{% block title %}Top Page{% endblock title %}

{% block extrahead %}
{# CSSとか #}
<style>
	.table > tbody > tr > td.vcenter {
		vertical-align: middle;
	}
</style>
{% endblock %}

{% block content %}
<div class="jumbotron">
	<div class="container">
		<h1>なろう作品を分析しよう</h1>
		<p>「小説家になろう」に投稿された作品のタイトルを形態素解析で分析します。</p>
	</div>
</div>
<div class="container theme-showcase" role="main">
	<h1>現在のデータ数</h1>
	<div class="row">
		<div class="col-md-3">
			<ul class="list-group">
				<li class="list-group-item">
					<span class="badge">{{ overview.0.daily_num_of_letter }}</span>
					今日の単語数
				</li>
				<li class="list-group-item">
					<span class="badge">{{ overview.0.daily_num_of_title }}</span>
					今日のタイトル数
				</li>
				<li class="list-group-item">
					<span class="badge">{{ overview.0.total_num_of_letter }}</span>
					累計単語数
				</li>
				<li class="list-group-item">
					<span class="badge">{{ overview.0.total_num_of_title }}</span>
					累計タイトル数
				</li>
			</ul>
		</div>
	</div>
	<h1>本日の人気名詞ランキング</h1>
	<div class="row">
		<div class="col-md-12">
			<table class="table table-bordered table-striped table-hover">
				<thead>
					<tr>
						<th class="text-center" >順位</th>
						<th class="text-center" >単語</th>
						<th class="text-center" >出現回数</th>
						<th class="text-center" >関連作品</th>
					</tr>
				</thead>
				<tbody>
					{% for word in words %}
					<tr>
						<td class="vcenter text-right">{{ forloop.counter }}</td>
						<td class="vcenter text-center">{{ word.value }}</td>
						<td class="vcenter text-right">{{ word.num_words }}</td>
						<td class="vcenter">
							<ul>
								{% for novel in word.related_novels %}
								<li>{{ novel.title.name }}</li>
								{% endfor %}
							</ul>
						</td>
					</tr>
					{% endfor %}
				</tbody>
			</table>
		</div>
	</div>
</div>
{% endblock content %}
